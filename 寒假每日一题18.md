# 寒假每日一题

## 第十八天

### 507. 积木大赛

#### 题目

春春幼儿园举办了一年一度的“积木大赛”。

今年比赛的内容是搭建一座宽度为n的大厦，大厦可以看成由n块宽度为1的积木组成，第i块积木的最终高度需要是$ℎ_i$。

在搭建开始之前，没有任何积木（可以看成块高度为 0 的积木）。

接下来每次操作，小朋友们可以选择一段连续区间[L,R]，然后将第L块到第R块之间（含第 L 块和第 R 块）所有积木的高度分别增加1。

小M是个聪明的小朋友，她很快想出了建造大厦的最佳策略，使得建造所需的操作次数最少。

但她不是一个勤于动手的孩子，所以想请你帮忙实现这个策略，并求出最少的操作次数。

#### 输入格式

输入包含两行，第一行包含一个整数n，表示大厦的宽度。 

第二行包含n个整数，第i个整数为$ℎ_i$。

#### 输出格式

仅一行，即建造所需的最少操作数。

#### 数据范围

$1≤n≤10^5$,
$0≤h_i≤10000$

#### 输入样例

```
5
2 3 4 1 2
```

#### 输出样例

```
5
```

#### AC代码

```c++
#include <iostream>
#include <algorithm>

using namespace std;

int n;
int b[100010];

int main()
{
    cin >> n;
    for(int i=1;i<=n;i++) cin >> b[i];
    int res=0;
    for(int i=1;i<=n;i++) res+=max(0,b[i]-b[i-1]);
    cout << res << endl;
    return 0;
}
```

#### 解题思路

> **差分+贪心**

>逆向思考：假设给定了每块积木的高度，每次可以将某一段区间中的所有高度减一，问最少操作多少次可以将所有高度变成0;
>
>$b_1=h_1,b_2=h_2−h_1,b_3=h_3−h_2,…,b_n=h_n−h_{n−1},b_{n+1}=−h_n$;
>
>由于 $∑b_i=0$，因此从数量上看，正数和负数是一一对应的;
>
>对于每个正数 $b_i>0$，最少需要操作 $b_i$ 次，因此总操作次数一定不少于差分数组中所有正数之和 $B$。

